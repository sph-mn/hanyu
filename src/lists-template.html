<!doctype html>
<html lang="zh-Hans">
  <head>
    <link rel="icon" href="data:," />
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1"/>
    <title>lists</title>
    <style>
     section{font-family:"Noto Sans SC";font-size:42px;padding-top:0.25rem}
     body{background-color:#000;color:#ddd}
     body a{color:#ddd}
     nav a{font-size:14px;text-decoration:none}
     div b{display:block;padding:0;margin:0;font-weight:normal}
     div > b > b:nth-child(1){display:inline;font-size:125%}
     div > b > b:nth-child(2){display:inline;margin-left:1ch}
     @media (max-width: 700px) {
       section{font-size:20px}
     }
     @media print {
       nav{display:none}
     }
     nav .dropdown{position:relative;display:inline-block}
     nav .dropdown button{font-size:14px;background:#000;color:#ddd;border:1px solid #555;padding:4px 8px}
     nav .dropdown .options{position:absolute;left:0;top:100%;display:none;background:#000;border:1px solid #555;min-width:500px;z-index:10}
     nav .dropdown.open .options{display:block}
     nav .dropdown .options div{padding:4px 8px;cursor:pointer}
     nav .dropdown .options div.active{text-decoration:underline}
    </style>
  </head>
  <body>
      <nav>
          __nav_links__
      </nav>
      <section>
          __content__
      </section>
      <style>
       @font-face {
         font-family: "Noto Sans SC";
         src: url("data:font/ttf;base64,__font__") format("truetype");
         font-weight: normal;
         font-style: normal;
       }
      </style>
      <script>
       function crel(tag,a,b){var el=document.createElement(tag);if(typeof a==="string"){el.textContent=a}else if(a){for(var k in a){if(k==="class"){el.setAttribute("class",a[k])}else{el.setAttribute(k,a[k])}}}if(b!=null){el.textContent=b}return el}
       class emitter_class{constructor(){this.l={}}on(t,f){(this.l[t]||(this.l[t]=[])).push(f);return this}off(t,f){if(!this.l[t])return this;this.l[t]=this.l[t].filter(x=>x!==f);return this}emit(t){var a=[].slice.call(arguments,1);(this.l[t]||[]).forEach(f=>f.apply(null,a));return this}}
       class dropdown_class extends emitter_class{
         constructor(container,label){
           super()
           this.container=container
           this.container.classList.add("dropdown")
           this.button=crel("button",label)
           this.options_container=crel("div",{"class":"options"})
           this.button.addEventListener("click",()=>{this.container.classList.toggle("open");this.emit("click")})
           document.addEventListener("click",(event)=>{if(!this.container.classList.contains("open"))return;if(this.container.contains(event.target))return;this.container.classList.remove("open")})
           this.container.appendChild(this.button)
           this.container.appendChild(this.options_container)
         }
         set_selection(value){
           if(this.selection&&this.options[this.selection])this.options[this.selection].classList.remove("active")
           this.selection=value
           this.options[value].classList.add("active")
         }
         set_options(options){
           this.options_container.innerHTML=""
           this.options={}
           for(var i=0;i<options.length;i++){
             var a=options[i]
             var b=crel("div",a[0])
             this.options[a[1]]=b
             var o=this;(function(a){b.addEventListener("click",function(){o.container.classList.remove("open");o.set_selection(a[1]);o.emit("change",a[1])})})(a)
             this.options_container.appendChild(b)
           }
         }
       }
       document.addEventListener("DOMContentLoaded",function(){
         var links=document.querySelectorAll("nav a")
         var divs=document.querySelectorAll("body > section > div")
         var params=new URLSearchParams(window.location.search)
         var initial_index=parseInt(params.get("nav"),10)
         if(isNaN(initial_index)||initial_index<0||initial_index>=divs.length){initial_index=0}
         function show_index(idx){
           for(var i=0;i<divs.length;i++){divs[i].style.display=i===idx?"block":"none"}
           var new_params=new URLSearchParams(window.location.search)
           new_params.set("nav",idx)
           history.replaceState(null,"",window.location.pathname+"?"+new_params.toString())
         }
         show_index(initial_index)
         var nav=document.querySelector("nav")
         var container=document.createElement("div")
         var label="文件"
         var dd=new dropdown_class(container,label)
         var opts=[]
         for(var i=0;i<links.length;i++){opts.push([links[i].textContent,String(i)])}
         dd.set_options(opts)
         dd.on("change",function(v){var idx=parseInt(v,10);show_index(idx)})
         dd.set_selection(String(initial_index))
         nav.innerHTML=""
         nav.appendChild(container)
       })
      </script>
  </body>
</html>
